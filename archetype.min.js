;(function(){if(typeof Object.create==="undefined"){Object.create=function(e){function t(){}t.prototype=e;return new t}}window.Archetype_EventCount=(new Date).getTime();Archetype={initialize:function(){return this},instance:function(){var e=Object.create(this);e.__super__=this;return e.initialize.apply(e,arguments)},extend:function(e){return Object.create(this).mixin(e)},mixin:function(e){for(var t in e){this[t]=e[t]}return this},"super":function(e){return Object.getPrototypeOf(this.__super__||this)[e].apply(this,Array.prototype.slice.apply(arguments).slice(1))},on:function(e,t){this.__events__=this.__events__||[];this.__events__.push({id:Archetype_EventCount,name:e,event:t});Archetype_EventCount++;return Archetype_EventCount},trigger:function(e){this.__events__=this.__events__||[];for(var t=0;t<this.__events__.length;t++){if(e===this.__events__[t].id||e===this.__events__[t].name){this.__events__[t].event.apply(this,Array.prototype.slice.apply(arguments).slice(1))}}return this},off:function(e){if(!e){this.__events__=[];return this}var t=[];this.__events__=this.__events__||[];for(var n=0;n<this.__events__.length;n++){if(e!==this.__events__[n].id&&e!==this.__events__[n].name){t.push(this.__events__[n])}}this.__events__=t;return this}}})();